{"ast":null,"code":"import contactService from \"../services/contactService\";\nexport const type = {\n  get: 'getContact',\n  post: 'postContact',\n  fill: 'fillContact'\n};\nconst initilize = [];\nexport const contacts = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initilize;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case type.get:\n      return state;\n\n    case type.post:\n      return [...state, action.payload];\n\n    case type.fill:\n      return action.payload;\n\n    default:\n      return state;\n  }\n}; // actions\n\nexport const contactAction_post = contact => {\n  return async dispatch => {\n    let result = await contactService.post(contact);\n    contact.id = result.insertId;\n    dispatch({\n      type: type.post,\n      payload: contact\n    });\n  };\n};\nexport const contactAction_get = list => {\n  return async dispatch => {\n    if (list && list.length > 0) return type.get;\n\n    if (list === undefined || list.length === 0) {\n      let result = await contactService.get();\n      dispatch({\n        type: type.fill,\n        payload: result\n      });\n    }\n  };\n};","map":{"version":3,"names":["contactService","type","get","post","fill","initilize","contacts","state","action","payload","contactAction_post","contact","dispatch","result","id","insertId","contactAction_get","list","length","undefined"],"sources":["D:/myJob/חיפוש עבודה/one1Exam/client/src/store/contactReducer.js"],"sourcesContent":["import contactService from \"../services/contactService\";\r\n\r\n\r\nexport const type = {\r\n    get: 'getContact', post: 'postContact', fill: 'fillContact'\r\n};\r\n\r\n\r\nconst initilize = [];\r\n\r\nexport const contacts = (state = initilize, action) => {\r\n    switch (action.type) {\r\n        case type.get: return state;\r\n        case type.post: return [...state, action.payload];\r\n        case type.fill: return action.payload;\r\n        default: return state;\r\n    }\r\n}\r\n\r\n\r\n// actions\r\nexport const contactAction_post = (contact) => {\r\n    return async (dispatch) => {\r\n        let result = await contactService.post(contact);\r\n        contact.id = result.insertId;\r\n        dispatch({ type: type.post, payload: contact })\r\n    }\r\n}\r\n\r\nexport const contactAction_get = (list) => {\r\n    return async (dispatch) => {\r\n        if (list && list.length > 0)\r\n            return type.get\r\n        if (list === undefined || list.length === 0) {\r\n            let result = await contactService.get();\r\n            dispatch({ type: type.fill, payload: result });\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,4BAA3B;AAGA,OAAO,MAAMC,IAAI,GAAG;EAChBC,GAAG,EAAE,YADW;EACGC,IAAI,EAAE,aADT;EACwBC,IAAI,EAAE;AAD9B,CAAb;AAKP,MAAMC,SAAS,GAAG,EAAlB;AAEA,OAAO,MAAMC,QAAQ,GAAG,YAA+B;EAAA,IAA9BC,KAA8B,uEAAtBF,SAAsB;EAAA,IAAXG,MAAW;;EACnD,QAAQA,MAAM,CAACP,IAAf;IACI,KAAKA,IAAI,CAACC,GAAV;MAAe,OAAOK,KAAP;;IACf,KAAKN,IAAI,CAACE,IAAV;MAAgB,OAAO,CAAC,GAAGI,KAAJ,EAAWC,MAAM,CAACC,OAAlB,CAAP;;IAChB,KAAKR,IAAI,CAACG,IAAV;MAAgB,OAAOI,MAAM,CAACC,OAAd;;IAChB;MAAS,OAAOF,KAAP;EAJb;AAMH,CAPM,C,CAUP;;AACA,OAAO,MAAMG,kBAAkB,GAAIC,OAAD,IAAa;EAC3C,OAAO,MAAOC,QAAP,IAAoB;IACvB,IAAIC,MAAM,GAAG,MAAMb,cAAc,CAACG,IAAf,CAAoBQ,OAApB,CAAnB;IACAA,OAAO,CAACG,EAAR,GAAaD,MAAM,CAACE,QAApB;IACAH,QAAQ,CAAC;MAAEX,IAAI,EAAEA,IAAI,CAACE,IAAb;MAAmBM,OAAO,EAAEE;IAA5B,CAAD,CAAR;EACH,CAJD;AAKH,CANM;AAQP,OAAO,MAAMK,iBAAiB,GAAIC,IAAD,IAAU;EACvC,OAAO,MAAOL,QAAP,IAAoB;IACvB,IAAIK,IAAI,IAAIA,IAAI,CAACC,MAAL,GAAc,CAA1B,EACI,OAAOjB,IAAI,CAACC,GAAZ;;IACJ,IAAIe,IAAI,KAAKE,SAAT,IAAsBF,IAAI,CAACC,MAAL,KAAgB,CAA1C,EAA6C;MACzC,IAAIL,MAAM,GAAG,MAAMb,cAAc,CAACE,GAAf,EAAnB;MACAU,QAAQ,CAAC;QAAEX,IAAI,EAAEA,IAAI,CAACG,IAAb;QAAmBK,OAAO,EAAEI;MAA5B,CAAD,CAAR;IACH;EACJ,CAPD;AAQH,CATM"},"metadata":{},"sourceType":"module"}